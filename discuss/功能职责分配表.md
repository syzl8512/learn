# 功能职责分配表

## 前端 vs 管理后台功能分配详细说明

### 1. 用户管理功能

| 功能项 | 前端职责 | 管理后台职责 | 数据流向 |
|-------|---------|-------------|----------|
| **用户注册登录** | ✓ 用户登录、注册、微信授权 | ✗ | 前端 → 后端 |
| **个人资料查看** | ✓ 查看个人基本信息、头像、昵称 | ✓ 查看所有用户详细信息 | 双向 |
| **个人资料编辑** | ✓ 编辑昵称、头像等基本信息 | ✓ 编辑所有用户信息、权限 | 前端 → 后端 |
| **密码管理** | ✓ 修改个人密码 | ✓ 重置用户密码、账户锁定 | 前端 → 后端 |
| **用户状态管理** | ✗ | ✓ 启用/禁用账户、权限管理 | 仅后台 |
| **蓝斯值设置** | ✓ 查看个人蓝斯值、选择预设等级 | ✓ 设置用户蓝斯值、查看历史记录 | 双向 |

### 2. 内容管理功能

| 功能项 | 前端职责 | 管理后台职责 | 数据流向 |
|-------|---------|-------------|----------|
| **书籍浏览** | ✓ 查看书籍列表、搜索、筛选 | ✓ 查看所有书籍、管理状态 | 双向 |
| **书籍详情** | ✓ 查看书籍详情、章节信息 | ✓ 查看完整书籍信息、处理状态 | 双向 |
| **阅读体验** | ✓ 在线阅读、版本切换、书签、笔记 | ✗ | 仅前端 |
| **书籍上传** | ✗ | ✓ 上传PDF、AI处理、内容审核 | 仅后台 |
| **书籍编辑** | ✗ | ✓ 编辑书籍信息、章节管理、内容修改 | 仅后台 |
| **听力内容** | ✓ 查看听力列表、播放、训练 | ✓ 上传听力内容、分类管理、编辑 | 双向 |
| **内容审核** | ✗ | ✓ 内容审核、发布管理、质量控制 | 仅后台 |

### 3. 学习数据功能

| 功能项 | 前端职责 | 管理后台职责 | 数据流向 |
|-------|---------|-------------|----------|
| **学习进度** | ✓ 查看个人学习进度、继续上次阅读 | ✓ 查看所有用户进度数据、统计分析 | 双向 |
| **阅读统计** | ✓ 查看个人阅读时长、书籍数量 | ✓ 查看系统阅读统计、用户排名 | 双向 |
| **词汇掌握** | ✓ 查看个人生词本、复习词汇 | ✓ 查看词汇掌握分布、学习效果分析 | 双向 |
| **数据分析** | ✓ 基础学习数据展示 | ✓ 详细数据分析、趋势图表、用户画像 | 双向 |
| **学习报告** | ✗ | ✓ 生成学习报告、数据导出、趋势预测 | 仅后台 |

### 4. 词汇管理功能

| 功能项 | 前端职责 | 管理后台职责 | 数据流向 |
|-------|---------|-------------|----------|
| **生词标注** | ✓ 阅读时标注生词、自动添加到生词本 | ✗ | 仅前端 |
| **生词本管理** | ✓ 查看生词、删除生词、标记掌握 | ✓ 查看用户生词统计、掌握情况 | 双向 |
| **词汇复习** | ✓ 词汇复习功能、记忆曲线 | ✓ 分析复习效果、优化复习策略 | 双向 |
| **词汇统计** | ✓ 个人词汇量统计、掌握程度 | ✓ 系统词汇统计、难度分布 | 双向 |
| **词汇库管理** | ✗ | ✓ 管理词汇库、添加词汇解释、分类管理 | 仅后台 |

### 5. 系统设置功能

| 功能项 | 前端职责 | 管理后台职责 | 数据流向 |
|-------|---------|-------------|----------|
| **阅读设置** | ✓ 字体大小、主题模式、基础阅读偏好 | ✗ | 仅前端 |
| **通知设置** | ✓ 推送通知开关、学习提醒 | ✓ 系统通知配置、推送策略管理 | 双向 |
| **账户安全** | ✓ 修改密码、绑定手机、隐私设置 | ✓ 安全策略设置、登录管理、风控规则 | 双向 |
| **系统配置** | ✗ | ✓ 应用参数配置、功能开关、性能优化 | 仅后台 |
| **数据备份** | ✗ | ✓ 数据备份恢复、数据迁移、清理策略 | 仅后台 |

### 6. 听力训练功能

| 功能项 | 前端职责 | 管理后台职责 | 数据流向 |
|-------|---------|-------------|----------|
| **听力播放** | ✓ 在线播放、进度控制、重复播放 | ✗ | 仅前端 |
| **听力训练** | ✓ 听力练习、答题模式、评分 | ✓ 训练效果分析、题目管理 | 双向 |
| **听力历史** | ✓ 查看个人听力记录、训练统计 | ✓ 查看系统听力数据、热门内容 | 双向 |
| **内容管理** | ✗ | ✓ 上传听力内容、分类管理、难度标注 | 仅后台 |
| **听力分析** | ✓ 个人听力能力分析、提升建议 | ✓ 系统听力数据统计、效果评估 | 双向 |

## API接口分工

### 前端专用接口

```typescript
// 用户认证
POST /api/v1/auth/login
POST /api/v1/auth/wechat-login
POST /api/v1/auth/refresh

// 阅读相关
GET /api/v1/books                     # 获取书籍列表
GET /api/v1/books/:id                 # 获取书籍详情
GET /api/v1/books/:id/chapters        # 获取章节列表
POST /api/v1/reading/progress         # 更新阅读进度
POST /api/v1/reading/bookmark         # 添加书签

// 词汇相关
GET /api/v1/vocabulary/user           # 获取用户生词本
POST /api/v1/vocabulary               # 添加生词
DELETE /api/v1/vocabulary/:id         # 删除生词
POST /api/v1/vocabulary/:id/review    # 标记复习状态

// 听力相关
GET /api/v1/listening                 # 获取听力列表
GET /api/v1/listening/:id             # 获取听力详情
POST /api/v1/listening/:id/progress   # 更新听力进度

// 用户设置
GET /api/v1/user/profile              # 获取用户信息
PUT /api/v1/user/profile              # 更新用户信息
GET /api/v1/user/preferences          # 获取用户偏好
PUT /api/v1/user/preferences          # 更新用户偏好
```

### 管理后台专用接口

```typescript
// 管理员认证
POST /api/v1/admin/auth/login
POST /api/v1/admin/auth/refresh

// 用户管理
GET /api/v1/admin/users               # 获取用户列表
GET /api/v1/admin/users/:id           # 获取用户详情
PUT /api/v1/admin/users/:id           # 更新用户信息
DELETE /api/v1/admin/users/:id        # 删除用户
POST /api/v1/admin/users/:id/reset-password # 重置密码

// 内容管理
POST /api/v1/admin/books              # 创建书籍
PUT /api/v1/admin/books/:id           # 更新书籍
DELETE /api/v1/admin/books/:id        # 删除书籍
POST /api/v1/admin/books/:id/upload   # 上传PDF
POST /api/v1/admin/listening          # 创建听力内容
PUT /api/v1/admin/listening/:id       # 更新听力内容
DELETE /api/v1/admin/listening/:id    # 删除听力内容

// 数据分析
GET /api/v1/admin/analytics/dashboard # 获取仪表板数据
GET /api/v1/admin/analytics/users     # 用户数据分析
GET /api/v1/admin/analytics/content   # 内容数据分析
GET /api/v1/admin/analytics/system    # 系统数据分析

// 系统管理
GET /api/v1/admin/system/config       # 获取系统配置
PUT /api/v1/admin/system/config       # 更新系统配置
POST /api/v1/admin/system/backup      # 数据备份
GET /api/v1/admin/system/logs         # 查看系统日志
```

### 共享接口（权限控制）

```typescript
// 基础数据获取（权限控制返回数据范围）
GET /api/v1/books                     # 前端：可读书籍，后台：所有书籍
GET /api/v1/user/progress             # 前端：个人进度，后台：所有用户进度
GET /api/v1/vocabulary/stats          # 前端：个人统计，后台：系统统计
```

## 权限控制说明

### 前端权限
- **用户权限**: 只能访问和修改自己的数据
- **内容权限**: 只能访问已发布的内容
- **功能权限**: 只能使用学生端功能

### 管理后台权限
- **超级管理员**: 所有功能权限
- **内容管理员**: 内容管理相关权限
- **数据分析员**: 数据查看和分析权限
- **客服人员**: 用户查看和基础操作权限

---

**文档版本**: v1.0  
**创建日期**: 2025-10-29  
**更新日期**: 2025-10-29
