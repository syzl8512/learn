# 页面结构重构图

## 1. 目录结构对比

### 1.1 当前目录结构（简化前）

```
frontend/src/pages/
├── index/
│   └── index.vue                    # 首页
├── login/
│   └── login.vue                    # 登录页
├── books/
│   ├── index.vue                    # 书籍列表
│   └── detail.vue                   # 书籍详情
├── reading/
│   ├── index.vue                    # 阅读页面
│   └── components/                  # 阅读组件
├── listening/
│   ├── index.vue                    # 听力列表
│   ├── detail.vue                   # 听力详情
│   ├── management.vue               # ❌ 移除：听力管理
│   ├── training.vue                 # 听力训练
│   ├── analytics.vue                # ❌ 移除：听力分析
│   └── history.vue                  # ❌ 移除：听力历史
├── vocabulary/
│   ├── index.vue                    # 生词本
│   └── components/                  # 词汇组件
├── lexile-selector/
│   └── index.vue                    # 水平选择器
├── my/                              # ❌ 简化：个人中心
│   └── index.vue                    # 复杂的个人中心
├── analytics/                       # ❌ 移除：详细数据分析
│   └── index.vue                    # 复杂的数据分析
├── font-settings/                   # ❌ 移除：字体设置
│   └── index.vue
├── gesture-settings/                # ❌ 移除：手势设置
│   └── index.vue
└── shortcut-settings/               # ❌ 移除：快捷键设置
    └── index.vue
```

### 1.2 新目录结构（简化后）

```
frontend/src/pages/
├── core/                            # 🆕 核心学习功能
│   ├── index/                       # 首页
│   │   └── index.vue               # 学习概览首页
│   ├── books/                       # 书籍功能
│   │   ├── index.vue               # 书籍列表
│   │   └── detail.vue              # 书籍详情
│   ├── reading/                     # 阅读功能
│   │   ├── index.vue               # 阅读页面
│   │   └── components/             # 阅读组件
│   ├── listening/                   # 听力功能
│   │   ├── index.vue               # 听力列表（简化）
│   │   ├── detail.vue              # 听力详情
│   │   └── training.vue            # 听力训练
│   └── vocabulary/                  # 词汇功能（简化）
│       ├── index.vue               # 生词本（简化）
│       └── components/             # 词汇组件
├── user/                            # 🆕 用户功能（简化）
│   ├── profile/                     # 个人资料
│   │   ├── index.vue               # 个人中心（简化）
│   │   └── lexile.vue              # 水平设置
│   ├── progress/                    # 学习进度（简化）
│   │   └── index.vue               # 基础进度展示
│   └── settings/                    # 基础设置
│       └── index.vue               # 简化设置页面
├── auth/                            # 🆕 认证功能
│   └── login.vue                   # 登录页面
└── components/                      # 🆕 公共组件
    ├── reading/                     # 阅读相关组件
    ├── listening/                   # 听力相关组件
    └── common/                      # 通用组件
```

## 2. 页面功能映射

### 2.1 保留并优化的页面

| 原页面 | 新页面 | 变更说明 |
|-------|-------|---------|
| `/pages/index/index.vue` | `/pages/core/index/index.vue` | 强化学习概览功能 |
| `/pages/books/index.vue` | `/pages/core/books/index.vue` | 优化筛选和搜索 |
| `/pages/books/detail.vue` | `/pages/core/books/detail.vue` | 增强阅读引导 |
| `/pages/reading/index.vue` | `/pages/core/reading/index.vue` | 简化阅读工具栏 |
| `/pages/listening/index.vue` | `/pages/core/listening/index.vue` | 移除管理功能 |
| `/pages/listening/detail.vue` | `/pages/core/listening/detail.vue` | 优化播放体验 |
| `/pages/listening/training.vue` | `/pages/core/listening/training.vue` | 增强训练效果 |
| `/pages/vocabulary/index.vue` | `/pages/core/vocabulary/index.vue` | 简化生词本功能 |

### 2.2 新增的简化页面

| 页面路径 | 功能描述 | 说明 |
|---------|---------|------|
| `/pages/user/profile/index.vue` | 简化个人中心 | 整合基本信息和简单设置 |
| `/pages/user/profile/lexile.vue` | 水平设置 | 独立的蓝斯值设置页面 |
| `/pages/user/progress/index.vue` | 学习进度 | 基础进度展示，无复杂图表 |
| `/pages/user/settings/index.vue` | 基础设置 | 保留核心设置选项 |
| `/pages/auth/login.vue` | 登录页面 | 从login目录移动到auth目录 |

### 2.3 完全移除的页面

| 页面路径 | 移除原因 | 功能替代 |
|---------|---------|---------|
| `/pages/analytics/index.vue` | 复杂数据分析属管理功能 | 由管理后台承担 |
| `/pages/listening/management.vue` | 内容管理功能 | 由管理后台承担 |
| `/pages/font-settings/index.vue` | 过于详细的设置 | 简化到基础设置页面 |
| `/pages/gesture-settings/index.vue` | 非核心设置 | 移除 |
| `/pages/shortcut-settings/index.vue` | 非核心设置 | 移除 |

## 3. 导航结构变化

### 3.1 Tab导航重构

#### 原导航结构
```json
{
  "tabBar": {
    "list": [
      { "pagePath": "pages/index/index", "text": "首页" },
      { "pagePath": "pages/books/index", "text": "书籍" },
      { "pagePath": "pages/vocabulary/index", "text": "生词本" },
      { "pagePath": "pages/listening/index", "text": "听力" },
      { "pagePath": "pages/my/index", "text": "我的" }
    ]
  }
}
```

#### 新导航结构
```json
{
  "tabBar": {
    "list": [
      { "pagePath": "pages/core/index/index", "text": "首页" },
      { "pagePath": "pages/core/books/index", "text": "书籍" },
      { "pagePath": "pages/core/listening/index", "text": "听力" },
      { "pagePath": "pages/core/vocabulary/index", "text": "生词本" },
      { "pagePath": "pages/user/profile/index", "text": "我的" }
    ]
  }
}
```

**变化说明**: 
- 调整了听力在导航中的位置，提升其重要性
- 统一了页面路径规范
- 将复杂的"我的"页面简化为个人中心

### 3.2 页面层级结构

#### 核心功能页面（3层结构）
```
Level 1: 主要功能入口（Tab页面）
Level 2: 详情/列表页面
Level 3: 具体操作页面
```

#### 用户功能页面（2层结构）
```
Level 1: 个人中心（Tab页面）
Level 2: 具体设置/信息页面
```

## 4. 组件结构重组

### 4.1 核心学习组件

```
frontend/src/components/core/
├── Reading/                        # 阅读组件
│   ├── Reader.vue                 # 主阅读器
│   ├── VersionSelector.vue        # 版本选择器
│   ├── WordPopup.vue              # 生词弹窗
│   ├── BookmarkList.vue           # 书签列表
│   ├── ReadingToolbar.vue         # 简化工具栏
│   └── ReadingSettings.vue        # 阅读设置
├── Listening/                      # 听力组件
│   ├── AudioPlayer.vue            # 音频播放器
│   ├── Transcript.vue             # 文本展示
│   ├── ProgressBar.vue            # 进度条
│   ├── PlaybackControls.vue       # 播放控制
│   └── TrainingMode.vue           # 训练模式
└── Vocabulary/                     # 词汇组件
    ├── WordCard.vue               # 词汇卡片
    ├── ReviewMode.vue             # 复习模式
    ├── WordList.vue               # 词汇列表
    ├── StatsCard.vue              # 统计卡片
    └── SearchFilter.vue           # 搜索筛选
```

### 4.2 通用组件

```
frontend/src/components/common/
├── BookCard.vue                    # 书籍卡片
├── ContentCard.vue                 # 内容卡片
├── ProgressRing.vue                # 进度环
├── SimpleChart.vue                 # 简单图表
├── UserAvatar.vue                  # 用户头像
├── EmptyState.vue                  # 空状态
├── LoadingSpinner.vue              # 加载动画
└── NotificationToast.vue           # 通知提示
```

### 4.3 移除的复杂组件

```
❌ 移除组件：
├── Analytics/
│   ├── TrendChart.vue             # 复杂趋势图
│   ├── PieChart.vue               # 饼图分析
│   └── HeatMap.vue                # 热力图
├── Management/
│   ├── ContentEditor.vue          # 内容编辑器
│   ├── BatchOperations.vue        # 批量操作
│   └── AdvancedFilters.vue        # 高级筛选
└── Settings/
    ├── FontSelector.vue           # 字体选择器
    ├── GestureConfig.vue          # 手势配置
    └── ShortcutManager.vue        # 快捷键管理
```

## 5. 页面功能详细说明

### 5.1 首页（/pages/core/index/index.vue）

**新增功能**:
- 学习进度快速概览
- 智能内容推荐
- 一键继续上次学习
- 今日学习目标

**移除功能**:
- 复杂数据统计图表
- 详细学习报告

### 5.2 个人中心（/pages/user/profile/index.vue）

**保留功能**:
- 基本个人信息展示
- 学习数据概览
- 简单设置入口

**移除功能**:
- 详细设置选项
- 账户管理功能
- 复杂数据分析

**新增功能**:
- 快速水平设置
- 学习目标设定
- 成就徽章展示

### 5.3 生词本（/pages/core/vocabulary/index.vue）

**保留功能**:
- 生词列表查看
- 词汇复习功能
- 基础统计信息

**移除功能**:
- 复杂的词汇分析
- 详细的学习统计
- 高级筛选功能

**优化功能**:
- 简化的复习模式
- 更直观的掌握度显示
- 快速搜索功能

### 5.4 听力页面（/pages/core/listening/index.vue）

**保留功能**:
- 听力内容列表
- 播放和训练功能
- 历史记录

**移除功能**:
- 内容管理功能
- 批量操作
- 详细数据分析

**优化功能**:
- 智能推荐算法
- 更好的播放体验
- 简化的分类筛选

## 6. 路由配置变化

### 6.1 页面配置文件更新

```json
{
  "pages": [
    // 核心学习功能
    {
      "path": "pages/core/index/index",
      "style": { "navigationBarTitleText": "学习首页" }
    },
    {
      "path": "pages/core/books/index",
      "style": { "navigationBarTitleText": "书籍" }
    },
    {
      "path": "pages/core/books/detail",
      "style": { "navigationBarTitleText": "书籍详情" }
    },
    {
      "path": "pages/core/reading/index",
      "style": { 
        "navigationBarTitleText": "阅读",
        "navigationStyle": "custom"
      }
    },
    {
      "path": "pages/core/listening/index",
      "style": { 
        "navigationBarTitleText": "听力",
        "navigationStyle": "custom"
      }
    },
    {
      "path": "pages/core/listening/detail",
      "style": { "navigationBarTitleText": "听力详情" }
    },
    {
      "path": "pages/core/listening/training",
      "style": { "navigationBarTitleText": "听力训练" }
    },
    {
      "path": "pages/core/vocabulary/index",
      "style": { "navigationBarTitleText": "生词本" }
    },
    
    // 用户功能
    {
      "path": "pages/user/profile/index",
      "style": { "navigationBarTitleText": "个人中心" }
    },
    {
      "path": "pages/user/profile/lexile",
      "style": { "navigationBarTitleText": "水平设置" }
    },
    {
      "path": "pages/user/progress/index",
      "style": { "navigationBarTitleText": "学习进度" }
    },
    {
      "path": "pages/user/settings/index",
      "style": { "navigationBarTitleText": "设置" }
    },
    
    // 认证功能
    {
      "path": "pages/auth/login",
      "style": { 
        "navigationBarTitleText": "登录",
        "navigationStyle": "custom"
      }
    }
  ],
  
  "tabBar": {
    "list": [
      { "pagePath": "pages/core/index/index", "text": "首页" },
      { "pagePath": "pages/core/books/index", "text": "书籍" },
      { "pagePath": "pages/core/listening/index", "text": "听力" },
      { "pagePath": "pages/core/vocabulary/index", "text": "生词本" },
      { "pagePath": "pages/user/profile/index", "text": "我的" }
    ]
  }
}
```

## 7. 实施步骤

### 7.1 第一阶段：目录重构（2天）

1. **创建新目录结构**
   ```bash
   mkdir -p frontend/src/pages/core/{index,books,reading,listening,vocabulary}
   mkdir -p frontend/src/pages/user/{profile,progress,settings}
   mkdir -p frontend/src/pages/auth
   ```

2. **移动现有页面文件**
   - 移动核心页面到新目录
   - 重命名文件以符合新规范

3. **更新路由配置**
   - 修改pages.json
   - 更新tabBar配置

### 7.2 第二阶段：功能简化（3天）

1. **移除复杂页面**
   - 删除analytics目录
   - 删除各种设置页面
   - 删除management相关页面

2. **简化保留页面**
   - 重构个人中心页面
   - 简化生词本功能
   - 优化首页内容

3. **更新组件结构**
   - 重组组件目录
   - 移除复杂组件
   - 创建简化组件

### 7.3 第三阶段：测试优化（2天）

1. **功能测试**
   - 验证页面跳转
   - 测试核心功能
   - 检查数据同步

2. **性能优化**
   - 减少包体积
   - 优化加载速度
   - 提升用户体验

---

**文档版本**: v1.0  
**创建日期**: 2025-10-29  
**说明**: 本重构图确保功能边界清晰，用户体验简化
