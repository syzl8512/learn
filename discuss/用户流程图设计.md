# 用户流程图设计

## 1. 整体用户流程架构

```mermaid
graph TD
    A[用户打开应用] --> B{是否登录}
    B -->|否| C[登录/注册页面]
    B -->|是| D[学习首页]
    C --> E[微信授权登录]
    E --> F[首次使用引导]
    F --> G[蓝斯值水平设置]
    G --> D
    D --> H[选择学习内容]
    H --> I[阅读学习]
    H --> J[听力训练]
    I --> K[学习进度更新]
    J --> K
    K --> L[生词本更新]
    L --> M[返回首页继续学习]
    M --> H
    
    N[个人中心] --> O[查看学习数据]
    N --> P[修改个人设置]
    N --> Q[水平调整]
    O --> D
    P --> D
    Q --> D
```

## 2. 新用户引导流程

```mermaid
graph TD
    A[首次打开应用] --> B[欢迎页面]
    B --> C[微信登录授权]
    C --> D[获取用户基本信息]
    D --> E[蓝斯值水平测试]
    E --> F{是否完成测试}
    F -->|否| G[选择预设水平]
    F -->|是| H[显示测试结果]
    G --> I[进入学习首页]
    H --> I
    I --> J[新手引导教程]
    J --> K[推荐第一本书]
    K --> L[开始阅读体验]
    L --> M[完成引导]
```

## 3. 核心学习流程

### 3.1 阅读学习流程

```mermaid
graph TD
    A[进入书籍列表] --> B[选择书籍]
    B --> C[查看书籍详情]
    C --> D{是否已开始阅读}
    D -->|否| E[选择阅读版本]
    D -->|是| F[继续上次阅读]
    E --> G[开始阅读]
    F --> G
    G --> H[阅读过程中]
    H --> I[点击生词]
    H --> J[添加书签]
    H --> K[切换阅读版本]
    I --> L[生词弹窗]
    L --> M[添加到生词本]
    M --> H
    J --> N[书签成功提示]
    N --> H
    K --> O[版本切换成功]
    O --> H
    H --> P[完成章节]
    P --> Q[更新阅读进度]
    Q --> R[显示学习数据]
    R --> S[选择下一步]
    S --> T[继续阅读下一章]
    S --> U[返回书籍列表]
    S --> V[开始听力训练]
```

### 3.2 听力训练流程

```mermaid
graph TD
    A[进入听力列表] --> B[选择听力内容]
    B --> C[查看听力详情]
    C --> D[开始听力训练]
    D --> E[音频播放器]
    E --> F[播放过程中]
    F --> G[暂停/继续]
    F --> H[重复播放]
    F --> I[调整播放速度]
    F --> J[查看原文]
    G --> K[更新播放进度]
    H --> K
    I --> K
    J --> L[显示/隐藏原文]
    L --> F
    K --> M{是否播放完成}
    M -->|否| F
    M -->|是| N[完成训练]
    N --> O[显示训练结果]
    O --> P[更新学习统计]
    P --> Q[推荐下一个内容]
    Q --> R[继续训练]
    Q --> S[返回列表]
```

### 3.3 词汇复习流程

```mermaid
graph TD
    A[进入生词本] --> B[查看生词列表]
    B --> C[选择复习模式]
    C --> D[开始复习]
    D --> E[显示单词卡片]
    E --> F[显示词义]
    F --> G{用户选择掌握程度}
    G -->|完全掌握| H[标记为已掌握]
    G -->|基本掌握| I[标记为学习中]
    G -->|仍需学习| J[保持新词状态]
    H --> K[下一个单词]
    I --> K
    J --> K
    K --> L{是否还有单词}
    L -->|是| E
    L -->|否| M[复习完成]
    M --> N[显示复习统计]
    N --> O[更新复习计划]
    O --> P[返回生词本]
```

## 4. 用户设置流程

### 4.1 个人资料设置

```mermaid
graph TD
    A[进入个人中心] --> B[查看个人信息]
    B --> C[点击编辑资料]
    C --> D[修改头像]
    C --> E[修改昵称]
    C --> F[修改蓝斯值水平]
    D --> G[选择新头像]
    G --> H[上传成功]
    E --> I[输入新昵称]
    I --> J[保存成功]
    F --> K[选择蓝斯值等级]
    K --> L[确认设置]
    H --> M[更新个人资料显示]
    J --> M
    L --> M
    M --> N[返回个人中心]
```

### 4.2 学习偏好设置

```mermaid
graph TD
    A[进入设置页面] --> B[学习偏好设置]
    B --> C[主题模式选择]
    B --> D[字体大小调整]
    B --> E[阅读偏好设置]
    C --> F[选择浅色/深色主题]
    F --> G[应用主题]
    D --> H[选择字体大小]
    H --> I[预览效果]
    I --> J[确认设置]
    E --> K[设置阅读模式]
    K --> L[设置自动保存]
    G --> M[保存设置]
    J --> M
    L --> M
    M --> N[设置成功提示]
    N --> O[返回设置页面]
```

## 5. 数据同步流程

```mermaid
graph TD
    A[用户操作] --> B{是否需要网络同步}
    B -->|否| C[本地数据更新]
    B -->|是| D[网络请求]
    D --> E{网络状态}
    E -->|正常| F[数据上传成功]
    E -->|异常| G[本地缓存]
    F --> H[更新本地数据]
    G --> I[等待网络恢复]
    I --> J[自动同步]
    J --> F
    C --> K[界面更新]
    H --> K
    K --> L[操作完成]
```

## 6. 简化后的核心用户路径

### 6.1 日度学习路径

```
打开应用 → 查看今日学习概览 → 一键继续上次学习 → 
完成学习内容 → 查看简要进度 → 关闭应用
```

**时间优化**: 从原来的8-10步减少到4-5步

### 6.2 周度学习路径

```
周一: 设置本周学习目标
周二-周四: 每日完成学习任务
周五: 查看周度学习报告
周六: 词汇复习和巩固
周日: 自由选择学习内容
```

### 6.3 月度学习路径

```
月初: 系统推荐月度学习计划
月中: 调整学习难度和内容
月末: 查看月度学习成就
```

## 7. 错误处理和异常流程

### 7.1 网络异常处理

```mermaid
graph TD
    A[用户操作] --> B[检测网络状态]
    B --> C{网络是否正常}
    C -->|正常| D[正常流程执行]
    C -->|异常| E[显示网络异常提示]
    E --> F[启用离线模式]
    F --> G[使用本地数据]
    G --> H[标记待同步数据]
    H --> I[网络恢复检测]
    I --> J{网络是否恢复}
    J -->|否| K[继续离线模式]
    J -->|是| L[自动同步数据]
    L --> M[恢复正常模式]
```

### 7.2 数据加载异常处理

```mermaid
graph TD
    A[请求数据] --> B{数据加载是否成功}
    B -->|成功| C[显示数据]
    B -->|失败| D[显示加载失败提示]
    D --> E[提供重试按钮]
    E --> F[用户是否重试]
    F -->|是| A
    F -->|否| G[显示缓存数据]
    G --> H[标记数据过期]
```

## 8. 性能优化流程

### 8.1 页面加载优化

```mermaid
graph TD
    A[用户进入页面] --> B[显示骨架屏]
    B --> C[加载核心数据]
    C --> D{核心数据是否加载完成}
    D -->|是| E[显示主要内容]
    D -->|否| F[显示加载动画]
    E --> G[加载次要数据]
    G --> H[更新页面细节]
    F --> I{加载是否超时}
    I -->|否| C
    I -->|是| J[显示加载失败]
    J --> K[提供刷新选项]
```

## 9. 用户体验优化点

### 9.1 智能推荐流程

```mermaid
graph TD
    A[用户完成学习] --> B[分析学习数据]
    B --> C[计算用户水平]
    C --> D[匹配推荐内容]
    D --> E[生成推荐列表]
    E --> F[在首页展示推荐]
    F --> G[用户查看推荐]
    G --> H{用户是否接受推荐}
    H -->|是| I[开始推荐内容]
    H -->|否| J[记录用户偏好]
    J --> K[调整推荐算法]
    K --> D
```

### 9.2 成就激励流程

```mermaid
graph TD
    A[用户完成学习任务] --> B[检查成就条件]
    B --> C{是否达成新成就}
    C -->|是| D[显示成就弹窗]
    C -->|否| E[更新进度]
    D --> F[成就动画展示]
    F --> G[分享成就选项]
    G --> H[更新成就列表]
    H --> I[记录获得时间]
    E --> J[继续学习]
    I --> J
```

---

**文档版本**: v1.0  
**创建日期**: 2025-10-29  
**说明**: 本流程图基于简化架构设计，专注于核心学习体验
