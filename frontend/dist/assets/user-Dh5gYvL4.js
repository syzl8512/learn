import{K as r,j as s,G as a}from"./index-Q6BRD8Zg.js";const f=r("user",()=>{const t=s(null),o=s(localStorage.getItem("token")),u=a(()=>!!o.value),n=a(()=>{var e,l;return((e=t.value)==null?void 0:e.nickname)||((l=t.value)==null?void 0:l.username)||"用户"});return{user:t,token:o,isLoggedIn:u,userName:n,setUser:e=>{t.value=e},setToken:e=>{o.value=e,localStorage.setItem("token",e)},logout:()=>{t.value=null,o.value=null,localStorage.removeItem("token")},updateProfile:e=>{t.value&&(t.value={...t.value,...e})}}});export{f as u};
